{"ast":null,"code":"var _jsxFileName = \"/Users/cgangaro/chat-app_Nestjs-React_Redux-Socket.io/fronttest/src/Connect.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:5000');\n\nconst Connect = () => {\n  _s();\n\n  const [id, setId] = useState('');\n  const [text, setText] = useState('Wsh la team');\n  const [recipient, setRecipient] = useState('');\n  socket.removeAllListeners();\n  socket.on('connect', function () {\n    console.log('Connected');\n    socket.emit('msgConnection');\n  });\n  socket.on('disconnect', function () {\n    console.log('Disconnected');\n  });\n  socket.on('msgToClient', function (data) {\n    if (data === 505) console.log('msgToServer', 'Msg bien reçu : 505');else console.log('msgToServer', data);\n  });\n  socket.on('ID', function (data) {\n    console.log('ID received :', data);\n    setId(data);\n  }); // socket.on('msgInputToOtherClient', function(msgToSend) {\n  //   console.log(msgToSend.sender, 'said: ', msgToSend.text);\n  // })\n\n  function validateInput() {\n    return id.length > 0 && text.length > 0 && recipient.length > 0;\n  }\n\n  function sendMessage() {\n    if (validateInput()) {\n      const message = {\n        sender: id,\n        recipient: recipient,\n        text: text\n      };\n      socket.emit('msgToOtherClient', message);\n      setText('');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      value: recipient,\n      onChange: e => setRecipient(e.target.value),\n      placeholder: \"Recipient...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: text,\n      onChange: e => setText(e.target.value),\n      placeholder: \"Enter message...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => sendMessage(),\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Connect, \"eUdlDuJPX+UdW3dQRq5g7SAlRqE=\");\n\n_c = Connect;\nexport default Connect;\n\nvar _c;\n\n$RefreshReg$(_c, \"Connect\");","map":{"version":3,"names":["React","useState","io","socket","Connect","id","setId","text","setText","recipient","setRecipient","removeAllListeners","on","console","log","emit","data","validateInput","length","sendMessage","message","sender","e","target","value"],"sources":["/Users/cgangaro/chat-app_Nestjs-React_Redux-Socket.io/fronttest/src/Connect.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport io from 'socket.io-client';\nconst socket = io('http://localhost:5000');\n\ninterface msgToSend {\n  sender: string;\n  recipient: string;\n  text: string;\n}\n\nconst Connect: React.FC = () => {\n\n  const [id, setId] = useState('');\n  const [text, setText] = useState('Wsh la team');\n  const [recipient, setRecipient] = useState('');\n\n  socket.removeAllListeners();\n  socket.on('connect', function() {\n    console.log('Connected');\n    socket.emit('msgConnection');\n  });\n  socket.on('disconnect', function() {\n    console.log('Disconnected');\n  });\n  socket.on('msgToClient', function(data) {\n    if (data === 505)\n      console.log('msgToServer', 'Msg bien reçu : 505');\n    else\n      console.log('msgToServer', data);\n  });\n\n  socket.on('ID', function(data) {\n    console.log('ID received :', data);\n    setId(data);\n  });\n\n  // socket.on('msgInputToOtherClient', function(msgToSend) {\n  //   console.log(msgToSend.sender, 'said: ', msgToSend.text);\n  // })\n\n  function validateInput() {\n    return id.length > 0 && text.length > 0 && recipient.length > 0;\n  }\n\n  function sendMessage() {\n    if (validateInput()) {\n      const message: msgToSend = {\n        sender: id,\n        recipient: recipient,\n        text: text,\n      };\n\n      socket.emit('msgToOtherClient', message);\n      setText('');\n    }\n  }\n\n  return (\n    <>\n      <input\n          value={recipient}\n          onChange={e => setRecipient(e.target.value)}\n          placeholder=\"Recipient...\"\n      />\n      <input\n          value={text}\n          onChange={e => setText(e.target.value)}\n          placeholder=\"Enter message...\"\n          />\n      <button type=\"button\" onClick={() => sendMessage()}>\n        Send\n      </button>\n\n    </>\n  );\n};\n\nexport default Connect;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,EAAP,MAAe,kBAAf;;;AACA,MAAMC,MAAM,GAAGD,EAAE,CAAC,uBAAD,CAAjB;;AAQA,MAAME,OAAiB,GAAG,MAAM;EAAA;;EAE9B,MAAM,CAACC,EAAD,EAAKC,KAAL,IAAcL,QAAQ,CAAC,EAAD,CAA5B;EACA,MAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,aAAD,CAAhC;EACA,MAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,EAAD,CAA1C;EAEAE,MAAM,CAACQ,kBAAP;EACAR,MAAM,CAACS,EAAP,CAAU,SAAV,EAAqB,YAAW;IAC9BC,OAAO,CAACC,GAAR,CAAY,WAAZ;IACAX,MAAM,CAACY,IAAP,CAAY,eAAZ;EACD,CAHD;EAIAZ,MAAM,CAACS,EAAP,CAAU,YAAV,EAAwB,YAAW;IACjCC,OAAO,CAACC,GAAR,CAAY,cAAZ;EACD,CAFD;EAGAX,MAAM,CAACS,EAAP,CAAU,aAAV,EAAyB,UAASI,IAAT,EAAe;IACtC,IAAIA,IAAI,KAAK,GAAb,EACEH,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,qBAA3B,EADF,KAGED,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BE,IAA3B;EACH,CALD;EAOAb,MAAM,CAACS,EAAP,CAAU,IAAV,EAAgB,UAASI,IAAT,EAAe;IAC7BH,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BE,IAA7B;IACAV,KAAK,CAACU,IAAD,CAAL;EACD,CAHD,EArB8B,CA0B9B;EACA;EACA;;EAEA,SAASC,aAAT,GAAyB;IACvB,OAAOZ,EAAE,CAACa,MAAH,GAAY,CAAZ,IAAiBX,IAAI,CAACW,MAAL,GAAc,CAA/B,IAAoCT,SAAS,CAACS,MAAV,GAAmB,CAA9D;EACD;;EAED,SAASC,WAAT,GAAuB;IACrB,IAAIF,aAAa,EAAjB,EAAqB;MACnB,MAAMG,OAAkB,GAAG;QACzBC,MAAM,EAAEhB,EADiB;QAEzBI,SAAS,EAAEA,SAFc;QAGzBF,IAAI,EAAEA;MAHmB,CAA3B;MAMAJ,MAAM,CAACY,IAAP,CAAY,kBAAZ,EAAgCK,OAAhC;MACAZ,OAAO,CAAC,EAAD,CAAP;IACD;EACF;;EAED,oBACE;IAAA,wBACE;MACI,KAAK,EAAEC,SADX;MAEI,QAAQ,EAAEa,CAAC,IAAIZ,YAAY,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAF/B;MAGI,WAAW,EAAC;IAHhB;MAAA;MAAA;MAAA;IAAA,QADF,eAME;MACI,KAAK,EAAEjB,IADX;MAEI,QAAQ,EAAEe,CAAC,IAAId,OAAO,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAF1B;MAGI,WAAW,EAAC;IAHhB;MAAA;MAAA;MAAA;IAAA,QANF,eAWE;MAAQ,IAAI,EAAC,QAAb;MAAsB,OAAO,EAAE,MAAML,WAAW,EAAhD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAXF;EAAA,gBADF;AAkBD,CAjED;;GAAMf,O;;KAAAA,O;AAmEN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}