{"ast":null,"code":"var _jsxFileName = \"/home/cgangaro/works/chat-app_Nestjs-React_Redux-Socket.io/fronttest/src/Components/FriendsList.tsx\";\nimport * as React from \"react\";\nimport \"./CSS/FriendsList.css\";\nimport \"./CSS/All.css\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet friendsClient = [];\n\nfunction AffUsername(props) {\n  if (props.username.length > 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"affUsername\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Welcome \", props.username, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 7\n  }, this);else return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"affUsername\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Welcome !\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 7\n  }, this);\n}\n\n_c = AffUsername;\n\nclass FriendsList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.utilsData = void 0;\n    this.logData = void 0;\n    this.state = {\n      logData: useSelector(state => state.log),\n      utilsData: useSelector(state => state.utils)\n    };\n  }\n\n  componentDidMount() {\n    this.utilsData.socket.emit('friendsListRequest');\n    this.utilsData.socket.on('friendsList', function (arrClient) {\n      console.log('Friends List received, useEffect()');\n      friendsClient = arrClient;\n      console.log(friendsClient.length);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main_container\",\n      id: \"main_FriendsList\",\n      children: [/*#__PURE__*/_jsxDEV(AffUsername, {\n        username: this.logData.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"friendsList\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: friendsClient.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this), friendsClient.map((friend, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"friendFrame\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: friend.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default FriendsList;\n\nvar _c;\n\n$RefreshReg$(_c, \"AffUsername\");","map":{"version":3,"names":["React","useSelector","friendsClient","AffUsername","props","username","length","FriendsList","Component","constructor","utilsData","logData","state","log","utils","componentDidMount","socket","emit","on","arrClient","console","render","map","friend","index"],"sources":["/home/cgangaro/works/chat-app_Nestjs-React_Redux-Socket.io/fronttest/src/Components/FriendsList.tsx"],"sourcesContent":["import * as React from \"react\";\nimport \"./CSS/FriendsList.css\"\nimport \"./CSS/All.css\"\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { actionCreators, RootState } from \"../State\";\nimport { bindActionCreators } from \"redux\";\nimport { io } from \"socket.io-client\";\nimport { validateInput } from \"../Utils/logUtils\";\nimport { render } from \"@testing-library/react\";\n\ninterface Client {\n  id: string;\n  username: string;\n}\n\nlet friendsClient: Client[] = [];\n\nfunction AffUsername(props: {username: string}) {\n  if (props.username.length > 0)\n    return (\n      <div id=\"affUsername\">\n        <p>Welcome {props.username}!</p>\n      </div>\n    )\n  else\n    return (\n      <div id=\"affUsername\">\n        <p>Welcome !</p>\n      </div>\n    )\n}\n\nclass FriendsList extends React.Component {\n  utilsData: any;\n  logData: any;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      logData : useSelector((state: RootState) => state.log),\n      utilsData : useSelector((state: RootState) => state.utils)\n    };\n  }\n\n\n\n  componentDidMount() {\n    this.utilsData.socket.emit('friendsListRequest');\n    this.utilsData.socket.on('friendsList', function(arrClient: Client[]) {\n      console.log('Friends List received, useEffect()');\n      friendsClient = arrClient;\n      console.log(friendsClient.length)\n    })\n  }\n\n  render() {\n  return (\n      <div className=\"main_container\" id=\"main_FriendsList\">\n      <AffUsername username={this.logData.username}/>\n      <div id=\"friendsList\">\n        <p>{friendsClient.length}</p>\n        {friendsClient.map((friend, index) => (\n          <div id=\"friendFrame\" key={index}>\n              <p>{friend.username}</p>\n          </div>\n        ))}\n      </div>\n  </div>\n  );\n  }\n}\n\nexport default FriendsList;"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAO,uBAAP;AACA,OAAO,eAAP;AACA,SAAsBC,WAAtB,QAAyC,aAAzC;;AAYA,IAAIC,aAAuB,GAAG,EAA9B;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAAgD;EAC9C,IAAIA,KAAK,CAACC,QAAN,CAAeC,MAAf,GAAwB,CAA5B,EACE,oBACE;IAAK,EAAE,EAAC,aAAR;IAAA,uBACE;MAAA,uBAAYF,KAAK,CAACC,QAAlB;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF,CADF,KAOE,oBACE;IAAK,EAAE,EAAC,aAAR;IAAA,uBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAKH;;KAbQF,W;;AAeT,MAAMI,WAAN,SAA0BP,KAAK,CAACQ,SAAhC,CAA0C;EAIxCC,WAAW,CAACL,KAAD,EAAa;IACtB,MAAMA,KAAN;IADsB,KAHxBM,SAGwB;IAAA,KAFxBC,OAEwB;IAEtB,KAAKC,KAAL,GAAa;MACXD,OAAO,EAAGV,WAAW,CAAEW,KAAD,IAAsBA,KAAK,CAACC,GAA7B,CADV;MAEXH,SAAS,EAAGT,WAAW,CAAEW,KAAD,IAAsBA,KAAK,CAACE,KAA7B;IAFZ,CAAb;EAID;;EAIDC,iBAAiB,GAAG;IAClB,KAAKL,SAAL,CAAeM,MAAf,CAAsBC,IAAtB,CAA2B,oBAA3B;IACA,KAAKP,SAAL,CAAeM,MAAf,CAAsBE,EAAtB,CAAyB,aAAzB,EAAwC,UAASC,SAAT,EAA8B;MACpEC,OAAO,CAACP,GAAR,CAAY,oCAAZ;MACAX,aAAa,GAAGiB,SAAhB;MACAC,OAAO,CAACP,GAAR,CAAYX,aAAa,CAACI,MAA1B;IACD,CAJD;EAKD;;EAEDe,MAAM,GAAG;IACT,oBACI;MAAK,SAAS,EAAC,gBAAf;MAAgC,EAAE,EAAC,kBAAnC;MAAA,wBACA,QAAC,WAAD;QAAa,QAAQ,EAAE,KAAKV,OAAL,CAAaN;MAApC;QAAA;QAAA;QAAA;MAAA,QADA,eAEA;QAAK,EAAE,EAAC,aAAR;QAAA,wBACE;UAAA,UAAIH,aAAa,CAACI;QAAlB;UAAA;UAAA;UAAA;QAAA,QADF,EAEGJ,aAAa,CAACoB,GAAd,CAAkB,CAACC,MAAD,EAASC,KAAT,kBACjB;UAAK,EAAE,EAAC,aAAR;UAAA,uBACI;YAAA,UAAID,MAAM,CAAClB;UAAX;YAAA;YAAA;YAAA;UAAA;QADJ,GAA2BmB,KAA3B;UAAA;UAAA;UAAA;QAAA,QADD,CAFH;MAAA;QAAA;QAAA;QAAA;MAAA,QAFA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAaC;;AArCuC;;AAwC1C,eAAejB,WAAf"},"metadata":{},"sourceType":"module"}